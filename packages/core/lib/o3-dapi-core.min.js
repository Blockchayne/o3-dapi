!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.o3dapi=e():t.o3dapi=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(2))},function(t,e,r){t.exports=r(3)},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";r.r(e);var n=Array.isArray,o=r(0),i="object"==typeof self&&self&&self.Object===Object&&self,a=o.a||i||Function("return this")(),u=a.Symbol,c=Object.prototype,s=c.hasOwnProperty,f=c.toString,l=u?u.toStringTag:void 0;var p=function(t){var e=s.call(t,l),r=t[l];try{t[l]=void 0;var n=!0}catch(t){}var o=f.call(t);return n&&(e?t[l]=r:delete t[l]),o},d=Object.prototype.toString;var v=function(t){return d.call(t)},h="[object Null]",y="[object Undefined]",_=u?u.toStringTag:void 0;var b=function(t){return null==t?void 0===t?y:h:_&&_ in Object(t)?p(t):v(t)};var g=function(t){return null!=t&&"object"==typeof t},w="[object Symbol]";var m=function(t){return"symbol"==typeof t||g(t)&&b(t)==w},j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;var S=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!m(t))||O.test(t)||!j.test(t)||null!=e&&t in Object(e)};var k=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},x="[object AsyncFunction]",P="[object Function]",z="[object GeneratorFunction]",M="[object Proxy]";var $=function(t){if(!k(t))return!1;var e=b(t);return e==P||e==z||e==x||e==M},A=a["__core-js_shared__"],T=function(){var t=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var F=function(t){return!!T&&T in t},E=Function.prototype.toString;var H=function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""},C=/^\[object .+?Constructor\]$/,N=Function.prototype,I=Object.prototype,R=N.toString,B=I.hasOwnProperty,J=RegExp("^"+R.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var q=function(t){return!(!k(t)||F(t))&&($(t)?J:C).test(H(t))};var D=function(t,e){return null==t?void 0:t[e]};var G=function(t,e){var r=D(t,e);return q(r)?r:void 0},U=G(Object,"create");var K=function(){this.__data__=U?U(null):{},this.size=0};var L=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Q="__lodash_hash_undefined__",V=Object.prototype.hasOwnProperty;var W=function(t){var e=this.__data__;if(U){var r=e[t];return r===Q?void 0:r}return V.call(e,t)?e[t]:void 0},X=Object.prototype.hasOwnProperty;var Y=function(t){var e=this.__data__;return U?void 0!==e[t]:X.call(e,t)},Z="__lodash_hash_undefined__";var tt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=U&&void 0===e?Z:e,this};function et(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}et.prototype.clear=K,et.prototype.delete=L,et.prototype.get=W,et.prototype.has=Y,et.prototype.set=tt;var rt=et;var nt=function(){this.__data__=[],this.size=0};var ot=function(t,e){return t===e||t!=t&&e!=e};var it=function(t,e){for(var r=t.length;r--;)if(ot(t[r][0],e))return r;return-1},at=Array.prototype.splice;var ut=function(t){var e=this.__data__,r=it(e,t);return!(r<0||(r==e.length-1?e.pop():at.call(e,r,1),--this.size,0))};var ct=function(t){var e=this.__data__,r=it(e,t);return r<0?void 0:e[r][1]};var st=function(t){return it(this.__data__,t)>-1};var ft=function(t,e){var r=this.__data__,n=it(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function lt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}lt.prototype.clear=nt,lt.prototype.delete=ut,lt.prototype.get=ct,lt.prototype.has=st,lt.prototype.set=ft;var pt=lt,dt=G(a,"Map");var vt=function(){this.size=0,this.__data__={hash:new rt,map:new(dt||pt),string:new rt}};var ht=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var yt=function(t,e){var r=t.__data__;return ht(e)?r["string"==typeof e?"string":"hash"]:r.map};var _t=function(t){var e=yt(this,t).delete(t);return this.size-=e?1:0,e};var bt=function(t){return yt(this,t).get(t)};var gt=function(t){return yt(this,t).has(t)};var wt=function(t,e){var r=yt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function mt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mt.prototype.clear=vt,mt.prototype.delete=_t,mt.prototype.get=bt,mt.prototype.has=gt,mt.prototype.set=wt;var jt=mt,Ot="Expected a function";function St(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ot);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(St.Cache||jt),r}St.Cache=jt;var kt=St,xt=500;var Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/\\(\\)?/g,Mt=function(t){var e=kt(t,function(t){return r.size===xt&&r.clear(),t}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Pt,function(t,r,n,o){e.push(n?o.replace(zt,"$1"):r||t)}),e});var $t=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},At=1/0,Tt=u?u.prototype:void 0,Ft=Tt?Tt.toString:void 0;var Et=function t(e){if("string"==typeof e)return e;if(n(e))return $t(e,t)+"";if(m(e))return Ft?Ft.call(e):"";var r=e+"";return"0"==r&&1/e==-At?"-0":r};var Ht=function(t){return null==t?"":Et(t)};var Ct=function(t,e){return n(t)?t:S(t,e)?[t]:Mt(Ht(t))},Nt=1/0;var It=function(t){if("string"==typeof t||m(t))return t;var e=t+"";return"0"==e&&1/t==-Nt?"-0":e};var Rt=function(t,e){for(var r=0,n=(e=Ct(e,t)).length;null!=t&&r<n;)t=t[It(e[r++])];return r&&r==n?t:void 0};var Bt=function(t,e,r){var n=null==t?void 0:Rt(t,e);return void 0===n?r:n};const Jt="o3-dapi",qt={},Dt={};function Gt({blockchain:t,callback:e}){Dt[t]=e}function Ut({blockchain:t,version:e,command:r,data:n,network:o,timeout:i}){const a=t+e+r+(Date.now()+Math.random()).toString(),u={platform:Jt,messageId:a,blockchain:t,version:e,command:r,data:n,network:o};return new Promise((t,e)=>{const r=Bt(window,"window._o3dapi.messageHandler"),n=Bt(window,"window.webkit.messageHandlers.sendMessageHandler.postMessage"),o=Boolean(n)&&"function"==typeof n;if(r)try{window._o3dapi.messageHandler(JSON.stringify(u))}catch(t){e("O3 dapi provider not found.")}else if(o)try{window.webkit.messageHandlers.sendMessageHandler.postMessage(u)}catch(t){e("O3 dapi provider not found.")}else e("O3 dapi provider not found.");(r||n)&&(qt[a]={resolve:t,reject:e,timeout:i&&setTimeout(()=>{delete qt[a],e("Request timeout.")},i)})})}window._o3dapi=window._o3dapi?window._o3dapi:{},_o3dapi.receiveMessage=(t=>{try{"string"==typeof t&&(t=JSON.parse(t));const{platform:e,blockchain:r,command:n,messageId:o,data:i,error:a,eventName:u}=t;if(e!==Jt)return;if("event"===n)return void Object.keys(Dt).map(t=>Dt[t]).forEach(t=>t(u,i));const c=qt[o];if(c){const{resolve:t,timeout:e,reject:r}=c;e&&clearTimeout(e),a?r(a):t(i)}}catch(t){}});const Kt={initPlugins:t=>{t.forEach(t=>{Kt[t.blockchain]=new t(Ut,Gt)})}};Kt.isAvailable=Boolean(window._o3dapi.isAvailable),Kt.openO3=(()=>window.open("https://deeplink.o3.network/"));e.default=Kt}]).default});